<form action="" [formGroup]="form" *ngIf="form">
    <div class="form-inline"  *ngFor="let name of entityNames">
        
        <label [for]="name"  *ngIf="(name | formatType: data) !== 'HIDDEN_FOREIGN'">
            {{ name | formatName }} :
        </label>

        <!-- <label [for]="name" class="form-hidden"  *ngIf="(name | formatType: data) === 'HIDDEN_FOREIGN'">
            {{ name | formatName }} :
        </label> -->

        <!-- {{ name | formatType: data }} -->

        <input 
            *ngIf="(name | formatType: data) === 'INPUT'"
            class="form-control"
            type="text" 
            [name]="name"
            [id]="name"
            [formControlName]="name" 
            [value]="name | formatFormValue: data"
        >

        <div *ngIf="(name | formatType: data) === 'IMAGE'">
            <app-image-view
                [images]="name | formatFormValue : data"
                (emitFile)="handleChangeFile($event)"
            />
        </div>

        <div *ngIf="(name | formatType: data) === 'SELECT_FOREIGN'">
            <div *ngFor="let object of objects">
                <div *ngIf="name == object.name">
                    <select 
                        [name]="name"
                        [id]="name" 
                        class="form-control form-select"
                        (change)="handleChangeObject($event)"
                    >
                        <option 
                            *ngFor="let item of object.objects"
                            [value]="item.id" 
                            [selected]="object.associatedFieldValue"
                        >
                            {{item.name}}
                        </option>
                    </select>
                </div>
             </div>
        </div>
   
        <input 
            *ngIf="(name | formatType: data) === 'HIDDEN_FOREIGN'"
            [id]="name"
            class="form-control form-hidden"
            [value]="name | formatFormValue: data"
        >
        

    </div>

    <div class="action">
        <a class="btn btn-danger" [routerLink]="['/', entity]">
            Cancel
        </a>
        <button class="btn btn-success" (click)="handleSubmit()">
            {{ formType == 'add' ? "Save" : "Update" }}
        </button>
    </div>
</form>