<form action="" [formGroup]="form" *ngIf="form">
    <div class="form-inline"  *ngFor="let name of entityNames">
        <label for="">
            {{ name | formatName }} :
        </label>

        <!-- {{ name | formatType: data }} -->

        <input 
            *ngIf="(name | formatType: data) === 'INPUT'"
            class="form-control"
            type="text" 
            name=""
            [formControlName]="name" 
            [value]="name | formatFormValue: data"
        >

        <div *ngIf="(name | formatType: data) === 'IMAGE'">
            <app-image-view
                [pictures]="name | formatFormValue : data"
                (emitFile)="handleChangeFile($event)"
            />
        </div>

        <div *ngIf="(name | formatType: data) === 'SELECT_FOREIGN'">
            <div *ngFor="let object of objects">
                <div *ngIf="name == object.name">
                    <select 
                        name="object[]" 
                        id="" 
                        class="form-control form-select"
                        (change)="handleChangeObject($event)"
                    >
                        <option 
                            *ngFor="let item of object.objects"
                            [value]="item.id" 
                            [selected] = objectSelected
                        >
                            {{item.name}}
                        </option>
                    </select>
                </div>
             </div>
        </div>
    </div>


    <div class="action">
        <a class="btn btn-danger" [routerLink]="['/', entity]">
            Cancel
        </a>
        <button class="btn btn-success" (click)="handleSubmit()">
            {{ formType == 'add' ? "Save" : "Update" }}
        </button>
    </div>
</form>